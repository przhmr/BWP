import{d as V,c as u,a as i,b as r,f as n,i as a,Q as f,t as m,w as g,R as k,e as x,h as q,p as E,n as L}from"./entry.819ce933.js";import{i as O}from"./HtmlInput.vue.5c04a560.js";import{S as T}from"./ShortLabel.239ac2f5.js";const B=["innerHTML"],F={key:1},S={key:0},C=["placeholder","name","data-q","data-required"],U={key:2,id:"error-container",class:"error"},N=V({__name:"TextAreaElement",props:{kind:{type:String},item:{type:Object},formLabelVisible:{type:Boolean},formFieldsValue:{type:Object},errors:{type:Object,default:()=>({})}},emits:["addOrUpdateError"],setup(e,{expose:b,emit:y}){const t=e,o=u(()=>t.kind=="survey"),s=u(()=>t.errors[t.item.tag]),h=()=>{if(o.value)return;const l=t.formFieldsValue[t.item.tag];t.item.required&&O(l)?c(t.item.tag,`${t.item.label} is required`):c(t.item.tag,null)},c=(l,d)=>{y("addOrUpdateError",{tag:l,error:d})};return b({validate:h,item:t.item}),(l,d)=>(i(),r("div",{class:L(["form-builder--item field-container",{"d-none":e.item.hidden,"form-builder--item-input":n(o)}])},[n(o)&&e.item.description!==void 0?(i(),r("label",{key:0,innerHTML:e.item.description,class:"item-description"},null,8,B)):a("",!0),e.formLabelVisible?(i(),r("label",F,[f(m(e.item.label)+" ",1),e.item.required?(i(),r("span",S,"*")):a("",!0)])):a("",!0),g(x("textarea",{"onUpdate:modelValue":d[0]||(d[0]=v=>e.formFieldsValue[e.item.tag]=v),placeholder:!e.formLabelVisible&&e.item.required?e.item.placeholder+"*":e.item.placeholder,name:e.item.tag,class:"form-control","data-q":e.item.hiddenFieldQueryKey,"data-required":e.item.required},null,8,C),[[k,e.formFieldsValue[e.item.tag]]]),n(s)?(i(),r("div",U,m(n(s)),1)):a("",!0),e.item.shortLabel?(i(),q(T,{key:3},{default:E(()=>[f(m(e.item.shortLabel),1)]),_:1})):a("",!0)],2))}});export{N as _};

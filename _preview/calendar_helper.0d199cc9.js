import{H as h,j as p,S as m,O as x}from"./constants.8e39bf94.js";import{t as _,u as w}from"./timezone.35853276.js";import{i as T}from"./isObject.32699ff3.js";import{k,i as O,a as F}from"./keys.83f010cc.js";function D(t,r){for(var e=-1,s=t==null?0:t.length;++e<s&&r(t[e],e,t)!==!1;);return t}function v(t){return function(r,e,s){for(var n=-1,o=Object(r),a=s(r),l=a.length;l--;){var u=a[t?l:++n];if(e(o[u],u,o)===!1)break}return r}}var y=v();const L=y;function M(t,r){return t&&L(t,r,k)}function P(t,r){return function(e,s){if(e==null)return e;if(!O(e))return t(e,s);for(var n=e.length,o=r?n:-1,a=Object(e);(r?o--:++o<n)&&s(a[o],o,a)!==!1;);return e}}var A=P(M);const B=A;function $(t){return typeof t=="function"?t:F}function j(t,r){var e=h(t)?D:B;return e(t,$(r))}p.extend(_);p.extend(w);var K=(t=>(t[t.CALENDAR=1]="CALENDAR",t[t.FORM=2]="FORM",t[t.CONFIRMATION_PAGE=3]="CONFIRMATION_PAGE",t[t.PAYMENT=4]="PAYMENT",t))(K||{}),R=(t=>(t.PENDING="pending",t.COMPLETED="completed",t))(R||{});const f={DARK_OLD:"dark_old",LIGHT_OLD:"light_old",DARK:"dark",LIGHT:"light",DEFAULT:"default",DEFAULT_OLD:"default_old"},q=(t,r)=>{const e=["id","name","description","image"],s={};for(let n=0;n<r.length;n++){const o=r[n],a=e[n];s[a]=t[o]||""}return s},g=t=>{if(T(t)){if(h(t))return t.map(r=>g(r));{const r={};return j(t,(e,s)=>{s==="paymentProvider"?r[s]=e:r[x(s)]=g(e)}),r}}return t},E=t=>{var r,e,s;try{if(t.trim()){const n=t.trim().split(" "),o=(r=n[0][0])==null?void 0:r.toUpperCase(),a=(s=(e=n[1])==null?void 0:e[0])==null?void 0:s.toUpperCase();return a!==void 0?o+a:o}return"-"}catch{return"-"}},S=t=>{let r=0;if(t.length==0)return r;for(let s=0;s<t.length;s++)r=t.charCodeAt(s)+((r<<5)-r),r=r&r;return"hsl("+Math.abs(r)%360+",35%, 60%)"},V=t=>{const r=Math.floor(t/60),e=t%60,s=r>1?`${r} hrs`:r===1?`${r} hr`:"",n=e>1?`${e} mins`:e===1?`${e} min`:"";return[s,n].filter(Boolean).join(" ")};function J(t){try{const r=["backgroundColor","primaryColor","buttonText","showCalendarTitle","showCalendarDescription","showCalendarDetails","default"];if(Object.keys(t).length===0||!r.some(o=>t[o]!==void 0))return null;const e=o=>t[o],s=o=>t[o]!==void 0?t[o]==="true":!0,n={};for(const o of r)n[o]=o==="showCalendarTitle"||o==="showCalendarDescription"||o==="showCalendarDetails"||o==="default"?s(o):e(o);return n}catch(r){return console.error("Error parsing query parameters:",r),null}}function G(t){t=t.replace(/^#/,"");const r=parseInt(t,16),e=r>>16&255,s=r>>8&255,n=r&255;return .2126*e+.7152*s+.0722*n<180}const Q=t=>{switch(t){case f.DARK_OLD:return{borderColor:"#ffffff36",lightBackgroundColor:"#00000036",dropdownColor:"#00000036",labelTextColor:"#e3e3e399",grayTextColor:"#e3e3e399",blackTextColor:"#ffffff",scrollColor:"#e3e3e399"};case f.LIGHT_OLD:return{borderColor:"#00000036",lightBackgroundColor:"#ffffff36",dropdownColor:"#ffffff36",labelTextColor:"#00000066",grayTextColor:"#000000b3",blackTextColor:"#333333",scrollColor:"#00000066"};case f.DARK:return{borderColor:"#fcfcfd33",textColor:"#fcfcfd",lightTextColor:"#fcfcfd99"};case f.LIGHT:return{borderColor:"#1018281a",textColor:"#101828",lightTextColor:"#10182899"};case f.DEFAULT:return{borderColor:"#1018281a",textColor:"#101828",lightTextColor:"#10182899",primaryColor:"#155eef",lightPrimaryColor:"#155eef12",blurColor:"#ffffffb3",backgroundColor:"#ffffff"};default:return{borderColor:"#e3e3e3",lightBackgroundColor:"#ffffff36",dropdownColor:"#f3f8fb",labelTextColor:"#b1b7be",grayTextColor:"#9d9d9d",blackTextColor:"#525252",primaryColor:"#178af6",backgroundColor:"#ffffff",scrollColor:"#9d9d9d"}}},Y=(t,r,e,s)=>{let n={};if(e?n={"--appointment_widgets-primary-color":"primaryColor","--appointment_widgets-background-color":"backgroundColor","--appointment_widgets-border-color":"borderColor","--appointment_widgets-light-primary-color":"lightPrimaryColor","--appointment_widgets-text-color":"textColor","--appointment_widgets-light-text-color":"lightTextColor","--appointment_widgets-blur-color":"blurColor"}:n={"--appointment_widgets-primary-color":"primaryColor","--appointment_widgets-background-color":"backgroundColor","--appointment_widgets-border-color":"borderColor","--appointment_widgets-light-background-color":"lightBackgroundColor","--appointment_widgets-dropdown-color":"dropdownColor","--appointment_widgets-label-text-color":"labelTextColor","--appointment_widgets-gray-text-color":"grayTextColor","--appointment_widgets-black-text-color":"blackTextColor","--appointment_widgets-scroll-color":"scrollColor"},s)Object.entries(n).forEach(([o,a])=>{var l;(l=r==null?void 0:r.style)==null||l.setProperty(o,t==null?void 0:t[a])});else return Object.entries(n).reduce((o,[a,l])=>(o[a]=t==null?void 0:t[l],o),{})},X=t=>{const r=(t==null?void 0:t.depositType)||(t==null?void 0:t.deposit_type);let e=0;if(r==="percentage"){let s=(t==null?void 0:t.deposit)/100*(t==null?void 0:t.amount);e=Math.round(s*100)/100}else e=Math.round((t==null?void 0:t.deposit)*100)/100;return Number.isInteger(e)?e:e.toFixed(2)},Z=t=>{switch(t){case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";default:return null}},W=(t,r)=>{try{const e=p(t.start_time).tz(t.selected_timezone),s=p().tz(t.selected_timezone);if(r&&(r==null?void 0:r.expiry_time)!=null&&(r!=null&&r.expiry_time_unit)){const n=r.expiry_time,o=r.expiry_time_unit==="mins"?"minute":r.expiry_time_unit,a=e.subtract(n,o);return s.isAfter(a)||s.isSame(a)}return!1}catch{return!1}},I=async(t,r,e,s,n)=>{let o={...e},a={...s},l={...n};const u=sessionStorage.getItem(`user_data_${t}`);if(!u)return;const c=JSON.parse(u),C=(i,d)=>{o[i]=d},b=r.map(i=>{if(r.includes(i))switch(i){case"phone":let d=c[i];d&&d[0]===" "&&(d="+"+d.trim()),a.phone=d;break;case"country":c[i]&&(l=m[c[i]]);break;case"address":!c[i]&&c.address1&&C(i,c.address1);break;default:C(i,c[i]);break}});return await Promise.all(b),{formFieldsValue:o,formattedCountry:l,phoneCountryIncluded:a}},tt=(t,r)=>{const e=Object.assign({},r);Object.keys(e).forEach(async n=>{var o;(e[n]instanceof File||(o=e[n])!=null&&o.files)&&delete e[n]}),sessionStorage.setItem(`user_data_${t}`,JSON.stringify(e))},rt=t=>{sessionStorage.removeItem(`user_data_${t}`)},et=t=>{let r="";{const e=document==null?void 0:document.createElement("div"),s=["div","p","h1","h2","h3","h4","h5","h6","ul","ol","li","blockquote","pre","table","tr","td","th","br"],n=new RegExp(`(</?(${s.join("|")})[^>]*>)`,"gi");t=t==null?void 0:t.replace(n," $1 "),e&&(e.innerHTML=t,r=e.textContent||e.innerText||""),r=r.replace(/\s+/g," ").trim()}return r},ot=t=>{const r={en:"en",da:"da",nl:"nl",fi:"fi",fr_FR:"fr",fr_CA:"fr-ca",de:"de",it:"it",no:"en",pt_PT:"pt",pt_BR:"pt-br",es:"es",sv:"sv"},s={fr_FR:"fr",fr_CA:"fr-ca",pt_PT:"pt",pt_BR:"pt-br"}[t]?t:t.includes("_")?t.split("_")[0]:t;return r[s]??"en"};export{K as C,R as P,J as a,B as b,g as c,rt as d,E as e,V as f,X as g,Z as h,W as i,Q as j,f as k,et as l,G as m,q as n,D as o,S as p,ot as q,tt as r,Y as s,I as t,M as u};

import{d as j,G as q,c as m,a as n,b as l,f as s,l as p,n as v,i as c,e as h,F as A,k as M,h as b,q as D,s as R,j as Y}from"./entry.819ce933.js";import{u as X,ax as U,n as J,d as K}from"./constants.8e39bf94.js";import{E as g,d as Q,e as W,f as $,b as Z}from"./index.b716f3c9.js";import{g as ee}from"./ecommerce_helper.fce6ea00.js";import{u as te}from"./unionBy.8a917df2.js";import"./HLConst.18ce99b8.js";import"./HLImage.vue.177d8bb8.js";import"./useRedirectAction.8ea1ef8d.js";import"./client-only.023003d0.js";import"./HtmlPreview.vue.e838f505.js";import"./utils.1236acbf.js";import"./index.f1fa0ff4.js";import"./FunnelServices.4c5adf48.js";import"./am_helper.8deee046.js";import"./currency_helper.0e2fcc1c.js";import"./last.fcb6f127.js";import"./keys.83f010cc.js";import"./isObject.32699ff3.js";import"./_Uint8Array.e77edc6f.js";const ne=D(()=>R(()=>import("./NavMenuSearchbar.9c5a92d8.js"),["./NavMenuSearchbar.b4bec3e4.css"],import.meta.url).then(t=>t.default||t)),oe=D(()=>R(()=>import("./StoreNavCartElement.7e841d39.js"),["./StoreNavCartElement.aa948ce9.css"],import.meta.url).then(t=>t.default||t)),se={key:0,class:"branding"},le={key:0,class:"logo"},ae={key:1,class:"title"},re={class:"cart-nav-wrapper"},ie={class:"nav-menu-mobile"},ce={class:"nav-menu"},ue={key:0,class:"dropdown-menu"},ke=j({__name:"NavMenu",props:{element:{type:Object,required:!0}},async setup(t){var N,S,x;let d,y;const o=t,_=X(),{$bus:V}=Y(),z=`${o.element.id}-logo`,B=`${o.element.id}-heading`,E=e=>e==null?void 0:e.reduce((u,r)=>(r.childs.length&&u.push(...E(r.childs)),r.goTo===Z.GO_TO_PRODUCT_COLLECTION&&r.goToCollection&&u.push(r.goToCollection),u),[]),f=E((x=(S=(N=o.element)==null?void 0:N.extra)==null?void 0:S.menuItems)==null?void 0:x.value);if(U(_.value.funnelSteps)&&f.length>0){const{data:e}=([d,y]=q(async()=>J(`product-collection-${o.element.id}`,async()=>await ee(f))),d=await d,y(),d);e.value&&(_.value.productCollections=te(e.value,_.value.productCollections,"_id"))}const w=m(()=>K(o.element)),C=m(()=>{const{extra:e}=o.element;return e[g.INCLUDE_LOGO_IN_MENU].value}),L=m(()=>{const{extra:e}=o.element;return e[g.INCLUDE_HEADLINE_IN_MENU].value}),H=m(()=>{const{extra:e}=o.element;return e[g.MENU_LAYOUT].value}),F=m(()=>{const{extra:e}=o.element;return e[g.MENU_ITEMS].value});function G(){V.$emit("show-nav-menu-popup",o.element.id)}return(e,a)=>{var I,O,T,k;const u=ne,r=oe;return n(),l("div",{class:v([[s(H)],"nav-menu-wrapper"])},[s(C)||s(L)?(n(),l("div",se,[s(C)?(n(),l("div",le,[p(Q,{id:z,class:v([s(w)]),element:t.element},null,8,["class","element"])])):c("",!0),s(L)?(n(),l("div",ae,[p(W,{class:v([s(w)]),id:B,content:t.element.extra.text},null,8,["class","content"])])):c("",!0)])):c("",!0),h("div",re,[h("div",ie,[h("span",{onClick:a[0]||(a[0]=i=>G()),class:"menu-icon"})]),h("ul",ce,[(n(!0),l(A,null,M(s(F),i=>(n(),l("li",{key:i.id,class:v(["nav-menu-item",i.childs.length?"dropdown":""])},[p($,{item:i},null,8,["item"]),i.childs&&i.childs.length?(n(),l("ul",ue,[(n(!0),l(A,null,M(i.childs,P=>(n(),l("li",{key:P.id,class:"dropdown-item"},[p($,{item:P},null,8,["item"])]))),128))])):c("",!0)],2))),128))]),(O=(I=t.element.extra)==null?void 0:I.showSearchbar)!=null&&O.value?(n(),b(u,{key:0,element:t.element},null,8,["element"])):c("",!0),s(U)(s(_).funnelSteps)&&(((k=(T=t.element.extra)==null?void 0:T.showCartIcon)==null?void 0:k.value)??!0)?(n(),b(r,{key:1,element:t.element},null,8,["element"])):c("",!0)])],2)}}});export{ke as default};

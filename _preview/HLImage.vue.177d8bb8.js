import{d as x,c as $,f as e,a as d,b as m,e as u,n as f,m as g,P as q}from"./entry.819ce933.js";import{I as n}from"./HLConst.18ce99b8.js";const z=["src","alt"],L={key:1,class:"hl-image-picture",style:{display:"block"}},b=["srcset"],I=["srcset"],N=["srcset"],S=["srcset"],C=["srcset"],k=["src","alt"],v=["src","alt"],B=x({__name:"HLImage",props:{url:{type:String,required:!0},format:{type:String,default:"webp"},quality:{type:Number,default:80},alt:{type:String},size:{type:Number},width:{type:[String,Number],required:!1,default:()=>"auto"},height:{type:String,required:!1,default:()=>"auto"},classList:{type:Array,required:!1,default:()=>[]}},emits:["load"],setup(t,{emit:r}){const a=t,c=q(),s=c.public.IMAGE_CDN,y=c.public.IMAGE_CDN_WHITELIST,o=$(()=>{try{const l=new URL(a.url);return y.includes(l.hostname)}catch{return console.warn("Invalid image url",a.url),!1}}),w=$(()=>{let l;a.height==="full"?l="100%":a.height==="auto"?l=void 0:l=`${a.height}px !important`;let i;return a.width==="full"?i="100%":a.width==="auto"?i=void 0:i=`${a.width}px !important`,{height:l,width:i}});return(l,i)=>t.size&&e(o)?(d(),m("img",{key:0,src:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${t.size}/u_${t.url}`,alt:t.alt,class:"w-100 hl-optimized-fixed-size mw-100",onLoad:i[0]||(i[0]=h=>r("load")),loading:"lazy"},null,40,z)):!t.size&&e(o)?(d(),m("picture",L,[u("source",{media:"(max-width:900px) and (min-width: 768px)",srcset:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(n).large}/u_${t.url}`},null,8,b),u("source",{media:"(max-width:768px) and (min-width: 640px)",srcset:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(n).medium}/u_${t.url}`},null,8,I),u("source",{media:"(max-width:640px) and (min-width: 480px)",srcset:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(n).tablet}/u_${t.url}`},null,8,N),u("source",{media:"(max-width:480px) and (min-width: 320px)",srcset:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(n).small}/u_${t.url}`},null,8,S),u("source",{media:"(max-width:320px)",srcset:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(n).xsmall}/u_${t.url}`},null,8,C),u("img",{src:`${e(s)}/image/f_${t.format}/q_${t.quality}/r_${e(n).xlarge}/u_${t.url}`,alt:t.alt,class:f(["hl-optimized mw-100",t.width?t.classList:[...t.classList,"w-100"]]),style:g(e(w)),onLoad:i[1]||(i[1]=h=>r("load")),loading:"lazy"},null,46,k)])):(d(),m("img",{key:2,class:f(["hl-un-optimized mw-100",t.classList]),src:t.url,alt:t.alt,onLoad:i[2]||(i[2]=h=>r("load")),style:g({width:t.width!=="auto"?t.width+"px":"auto",height:t.height!=="auto"?t.height+"px":"auto"}),loading:"lazy"},null,46,v))}});export{B as _};
